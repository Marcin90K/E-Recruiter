<p class="element-title text-center">Candidate data summary</p>

<div>
  <div class="accordion" id="summaryContainer">
    <div class="card">
      <div class="card-header" id="detailsHeader">
        <div class="row">
          <div class="col-1">
            <button id="detailsToggleBtn" class="btn" type="button" (click)="toggleContentSection($event.target)">
              <span *ngIf="!isPersonDetailsShown else hideDetails"><i class="fas fa-angle-down"></i></span>
              <ng-template #hideDetails>
                <span><i class="fas fa-angle-up"></i></span>
              </ng-template>
            </button>
          </div>
          <div class="col-11">
            <h3 class="mb-0">
              <button class="btn" type="button" data-toggle="collapse" data-target="#detailsCollapse"
                aria-expanded="true" aria-controls="detailsCollapse">
                <span>Personal details</span>
              </button>
            </h3>
          </div>
        </div>
      </div>
      <div #details class="collapse mb-4" aria-labelledby="detailsHeader" data-parent="#summaryContainer">
        <div class="card-body">
          <ng-container *ngFor="let item of objectKeys(candidateProfile.candidateBasicData)">
            <ng-container *ngIf="item === 'personBasicData'">
              <ng-container *ngFor="let prnData of objectKeys(candidateProfile.candidateBasicData.personBasicData)">
                <div class="row mb-2">
                  <div class="col-md-6">
                    <div class="data-label">{{prnData | splitCamelcase}}</div>
                  </div>
                  <div class="col-md-6">
                    <div class="data-content">{{candidateProfile.candidateBasicData.personBasicData[prnData]}}</div>
                  </div>
                </div>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="item === 'address'">
              <ng-container *ngFor="let addr of objectKeys(candidateProfile.candidateBasicData.address)">
                <div class="row mb-2">
                  <div class="col-md-6">
                    <div class="data-label">{{addr | splitCamelcase}}</div>
                  </div>
                  <div class="col-md-6">
                    <div class="data-content">{{candidateProfile.candidateBasicData.address[addr]}}</div>
                  </div>
                </div>
              </ng-container>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="educationHeader">
        <div class="row">
          <div class="col-1">
            <button id="educationToggleBtn" class="btn" type="button" (click)="toggleContentSection($event.target)">
              <span *ngIf="!isEducationShown else hideEducation"><i class="fas fa-angle-down"></i></span>
              <ng-template #hideEducation>
                <span><i class="fas fa-angle-up"></i></span>
              </ng-template>
            </button>
          </div>
          <div class="col-11">
            <h3 class="mb-0">
              <button class="btn" type="button" data-toggle="collapse" data-target="#educationCollapse">
                <span>Education path</span>
              </button>
            </h3>
          </div>
        </div>
      </div>
      <div #education class="collapse mb-4" id="educationCollapse" aria-labelledby="educationHeader"
        data-parent="#summaryContainer">
        <div class="card-body">
          <ng-container *ngFor="let education of objectValues(candidateProfile.educations.educationItems)">
            <ng-container *ngFor="let item of objectKeys(education)">
              <div class="row mb-2">
                <div class="col-md-6">
                  <div class="data-label">{{item | splitCamelcase}}</div>
                </div>
                <div class="col-md-6">
                  <div class="data-content">{{education[item]}}</div>
                </div>
              </div>
            </ng-container>
            <br />
          </ng-container>
        </div>
      </div>

      <div class="card">
        <div class="card-header" id="experienceHeader">
          <div class="row">
            <div class="col-1">
              <button id="experienceToggleBtn" class="btn" type="button" (click)="toggleContentSection($event.target)">
                <span *ngIf="!isExperienceShown else hideExperience"><i class="fas fa-angle-down"></i></span>
                <ng-template #hideExperience>
                  <span><i class="fas fa-angle-up"></i></span>
                </ng-template>
              </button>
            </div>
            <div class="col-11">
              <h3 class="mb-0">
                <button class="btn" type="button" data-toggle="collapse" data-target="#experienceCollapse">
                  <span>Carrier path</span>
                </button>
              </h3>
            </div>
          </div>
        </div>
        <div #experience class="collapse mb-4" id="experienceCollapse" aria-labelledby="experienceHeader"
          data-parent="#summaryContainer">
          <div class="card-body">
            <ng-container *ngFor="let experience of objectValues(candidateProfile.experiences.experienceItems)">
              <ng-container *ngFor="let item of objectKeys(experience)">
                <div class="row mb-2">
                  <div class="col-md-6">
                    <div class="data-label">{{item | splitCamelcase}}</div>
                  </div>
                  <div class="col-md-6">
                    <div class="data-content">{{experience[item]}}</div>
                  </div>
                </div>
              </ng-container>
              <br />
            </ng-container>
          </div>
        </div>

      </div>
    </div>
      <div class="row my-2 justify-content-center">
        <button class="my-4 mr-2 button button-normal" [routerLink]="['../experience']"
          routerLinkActive="router-link-active">Prev</button>
        <button class="my-4 ml-2 button button-submit" (click)="submit()">Submit</button>
      </div>
    </div>
